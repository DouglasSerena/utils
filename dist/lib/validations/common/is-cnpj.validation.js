"use strict";
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isCnpj = void 0;
function isCnpj(cnpj) {
    if (!cnpj)
        return false;
    cnpj = cnpj.replace(/\D/g, "");
    var cpfInvalid = __spreadArray(__spreadArray(__spreadArray([], ["00000000000000", "11111111111111", "22222222222222", "33333333333333"]), ["44444444444444", "55555555555555", "66666666666666", "77777777777777"]), ["88888888888888", "99999999999999"]);
    if (cpfInvalid.includes(cnpj) || cnpj.length !== 14) {
        return false;
    }
    var initPart = cnpj.substr(0, 12).split("");
    var firstDigit = Number.parseInt(cnpj.charAt(12));
    var firstDigitGenerated = calcDigit(initPart, 5);
    if (firstDigit !== firstDigitGenerated) {
        return false;
    }
    var secondaryPart = cnpj.substr(0, 13).split("");
    var secondaryDigit = Number.parseInt(cnpj.charAt(13));
    var secondaryDigitGenerated = calcDigit(secondaryPart, 6);
    if (secondaryDigit !== secondaryDigitGenerated) {
        return false;
    }
    return true;
}
exports.isCnpj = isCnpj;
function calcDigit(parteCNPJ, multi) {
    var generatedDigit = 0;
    var valueTotal = 0;
    valueTotal = parteCNPJ.reduce(function (result, currentNumber) {
        result += Number.parseInt(currentNumber) * multi--;
        if (multi < 2) {
            multi = 9;
        }
        return result;
    }, 0);
    if (valueTotal % 11 < 2) {
        generatedDigit = 0;
    }
    else {
        generatedDigit = 11 - (valueTotal % 11);
    }
    return generatedDigit;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtY25wai52YWxpZGF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3ZhbGlkYXRpb25zL2NvbW1vbi9pcy1jbnBqLnZhbGlkYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxTQUFnQixNQUFNLENBQUMsSUFBWTtJQUNqQyxJQUFJLENBQUMsSUFBSTtRQUFFLE9BQU8sS0FBSyxDQUFDO0lBRXhCLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQVcsQ0FBQztJQUV6QyxJQUFNLFVBQVUsaURBQ1gsQ0FBQyxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsQ0FBQyxHQUN4RSxDQUFDLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDLEdBQ3hFLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsQ0FDeEMsQ0FBQztJQUVGLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtRQUNuRCxPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzlDLElBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELElBQU0sbUJBQW1CLEdBQUcsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVuRCxJQUFJLFVBQVUsS0FBSyxtQkFBbUIsRUFBRTtRQUN0QyxPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsSUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELElBQU0sY0FBYyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELElBQU0sdUJBQXVCLEdBQUcsU0FBUyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1RCxJQUFJLGNBQWMsS0FBSyx1QkFBdUIsRUFBRTtRQUM5QyxPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBL0JELHdCQStCQztBQUVELFNBQVMsU0FBUyxDQUFDLFNBQW1CLEVBQUUsS0FBYTtJQUNuRCxJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUM7SUFDdkIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBRW5CLFVBQVUsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBYyxFQUFFLGFBQXFCO1FBQ2xFLE1BQU0sSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDO1FBQ25ELElBQUksS0FBSyxHQUFHLENBQUMsRUFBRTtZQUNiLEtBQUssR0FBRyxDQUFDLENBQUM7U0FDWDtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVOLElBQUksVUFBVSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7UUFDdkIsY0FBYyxHQUFHLENBQUMsQ0FBQztLQUNwQjtTQUFNO1FBQ0wsY0FBYyxHQUFHLEVBQUUsR0FBRyxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUMsQ0FBQztLQUN6QztJQUVELE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUMifQ==